{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "type": "object",
  "properties": {
    "eventDate": {
      "description": "The date the life event occurred. This cannot be in the future.",
      "$ref": "#/definitions/ISO8601-Date"
    },
    "isaManagerName": {
      "type": "string",
      "description": "The name of the ISA Manager",
      "maxLength": 50,
      "pattern": "^[a-zA-Z0-9 '/,&().-]{1,50}$"
    },
    "taxYear": {
      "type": "integer",
      "description": "The tax year for the EOY return. Example 2017/18 TY is 2018",
      "min": 2017,
      "pattern": "^[0-9]{4}$",
      "example": "2018"
    },
    "marketValueCash": {
      "$ref": "#/definitions/MarketValue",
      "description": "The total value of the LISA account. Numeric up to 6 chars (can be zero). Values must be reported to the nearest whole pound and not reported to decimal places e.g. report 54.56 as 55."
    },
    "marketValueStocksAndShares": {
      "$ref": "#/definitions/MarketValue",
      "description": "The total value of the LISA account. Numeric up to 6 chars (can be zero). Values must be reported to the nearest whole pound and not reported to decimal places e.g. report 54.56 as 55."
    },
    "annualSubsCash": {
      "$ref": "#/definitions/AnnualSubs",
      "description": "Total value of cash subscriptions the investor deposited in to their cash LISA account in the financial year. Numeric up to 4 chars (can be zero). Values must be reported to the nearest whole pound and not reported to decimal places e.g. report 54.56 as 55. Both the annualSubsCash and annualSubsStocksAndShares data items cannot be greater than zero in the same payload. If annualSubsCash is greater than zero then annualSubsStocksAndShares must equal zero"
    },
    "annualSubsStocksAndShares": {
      "$ref": "#/definitions/AnnualSubs",
      "description": "Total value of cash subscriptions the investor deposited in to their cash LISA account in the financial year. Numeric up to 4 chars (can be zero). Values must be reported to the nearest whole pound and not reported to decimal places e.g. report 54.56 as 55. Both the annualSubsCash and annualSubsStocksAndShares data items cannot be greater than zero in the same payload. If annualSubsStocksAndShares is greater than zero then annualSubsCashAndShares must equal zero"
    },
    "supersede": {
      "type": "object",
      "properties": {
        "originalLifeEventId": {
          "type": "string",
          "description": "The lifeEventId of the life event to be superseded",
          "pattern": "^\\d{10}$"
        },
        "originalEventDate": {
          "$ref": "#/definitions/ISO8601-Date",
          "description": "The eventDate of the life event to be superseded"
        }
      },
      "required": ["originalLifeEventId", "originalEventDate"],
      "additionalProperties": false
    }
  },
  "required": ["eventDate", "isaManagerName", "taxYear"],
  "additionalProperties": false,
  "definitions": {
    "ISO8601-Date" : {
      "id": "full-date",
      "type": "string",
      "pattern": "^\\d{4}-\\d{2}-\\d{2}$",
      "example": "2018-03-31"
    },
    "AnnualSubs": {
      "type": "integer",
      "minimum": 0,
      "maximum": 9999,
      "pattern": "^[0-9]{1,4}$",
      "example": "100"
    },
    "MarketValue": {
      "type": "integer",
      "minimum": 0,
      "maximum": 999999,
      "pattern": "^[0-9]{1,6}$",
      "example": "1000"
    }
  }
}